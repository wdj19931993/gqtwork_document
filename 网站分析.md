# 共青团网站分析
---
[toc]

---
## 大体架构

网站源码共有两部分组成，一部分是`java src`，另一部分是`WEB-ROOT`，其中，`java src`部分主要负责**网站业务逻辑的实现**，包括**路由控制**，**具体业务逻辑**，**数据库相关**等功能。

`WEB-ROOT`部分则主要是网站的**jsp页面**，类似phalcon框架中的*public*文件夹，在web服务器中对应*DOCUMENT_ROOT*路径。

网站数据库目前共有**38**张表，源码中有**36**个对应的*po*，其中有两个表看样子是已经**不用了**。

## java 部分分析

java部分共有4个大包，分别是`config`，`param`，`user`，`web`。

其中，`config`包主要有网站的一些**通用设置、通用的类等**。`param`包主要定义了**整个系统中传递的各种参数**。`user`包主要是**用户相关的类**。这三个类的共性是只有*controller*和*service*两层。`web`包主要是**页面定义**、**路由跳转**相关的类。

### config

### param

### user

### web

## WEB-ROOT部分分析

## 数据库结构分析

### 所有表及名称

数据库中共有**38**个表，代码中 共有**36**个*po*，其中，`oldqy`和`oldry`表从名字可以看出**可能已经废弃**，`cy_project`表没有对应的*po*。`wxmsg`这个*po*没有对应的数据表。

| 表名          |猜想表名的意思 |
| --------      | -----        |
| cy_project    | 创业大赛项目        |
| [cyds](#cyds表创业大赛表)          | 创业大赛        |
| [dm](#dm代码表)        | 代码        |
| [grjl](#grjl个人简历)          | 个人简历        |
| [grll](#grll个人浏览)         | 个人浏览        |
| [grsc](#grsc个人收藏)          | 个人收藏      |
| [grsqzwxx](#grsqzwxx个人申请职位信息)      | 个人招聘（职位）申请信息        |
| [grsx](#grsx个人私信)          | 个人私信        |
| [grtszwxx](#grtszwxx个人投诉职位信息)      | 个人投诉招聘（职位）信息*(**空表**)*        |
| [guga](#guga广告)          | 广告信息        |
| gzsj          | 工作时间*(**空表**)*        |
| imageyw       | 图片业务*(**不确定**)*        |
| jhbmxx        | 聚会报名信息        |
| jhhd          | 聚会活动        |
| ksxx          | 考试信息        |
| logininfo     | 登录日志        |
| myuser        | 用户表          |
| oprthistory   | 操作历史*(**不确定**)*    |
| personyw      | 个人业务*(**不确定**)*    |
| qy            | 企业信息        |
| qysczph       | 企业收藏招聘会*(**不确定、空表**)*        |
| qysqch        | 企业申请参会        |
| qysx          | 企业私信表        |
| qzxx          | 求职意向信息      |
| reqlourl      | 权限验证        |
| ry            | 人员信息        |
| sendemail     | email        |
| sendsms       | 短信        |
| sydm          | 系统参数        |
| xw            | 新闻信息       |
| yhzqx         | 用户组权限        |
| yjfk          | 意见反馈        |
| zphxx         | 招聘会信息        |
| zpxx          | 招聘信息        |
| zpzw          | 招聘职位        |
| zyfw          | 资源服务*(**不确定**)*        |

### 各个表的字段分析
#### cyds表——创业大赛表
>*创业大赛* 表就是创业项目表，其中主要存了**创业大赛项目的基本信息**等。

|字段名|猜想的字段意思|字段示例|
|--|--|--|
| ID |项目id|29|
|bmsj  |报名时间|2015-07-27 17:04:17.0|
|XMLB  |项目类别|综合创业类|
|RYXM |人员姓名|王吉|
|RYXB |人员性别|男|
|RYNL |人员年龄|27|
|LXDH |联系电话|13468761465|
|RYYX |人员邮箱|402213396@qq.com|
|DZ |地址|陕西省西安市市、县级市、县三桥和平村|
|XMMC | 项目名称|BugScan分布式漏洞扫描平台|
|XMSZD | 项目所在地|咸阳市沣东街道|
|XMJD | 项目阶段|创意阶段|
|XMJJ|项目简介| |
|XMLD|项目** *(**不确定**)*| |
|SYSR|\*\*收入 *(**不确定**)*| |
|SCFX|\*\*方向 *(**不确定**)*| |
|TZYS|投资预算*(**不确定**)*| |
|XNZJ|吸纳资金*(**不确定**)*| |
|ZJXQ|资金需求*(**不确定**)*| |
|YSXY|*(**不知道**)*| |
|TDJS|团队介绍| |

#### **dm——代码表** （这个表内容很多）
>*代码* 表是一个很**庞杂**、**神奇**、**全能**的表，虽然结构简单，但是包含的数据多种多样。它主要定义了系统中的各种代码，比如`用户类型`、`福利待遇`、`学历`、`职位`、`行业`、`学校`等等等等的**代码名、代码描述、代码值之间的映射**。这个表很**关键**，*当你对一个字段名称或者什么缩写不懂的时候，来看看这个表或许会有所收获*。

>>举例：我想找出系统中所有新闻的类型和代码，就在这个表中的dmmc（代码名称）字段找xwlx（新闻类型），可以查出新闻类型共有4条数据如下：
![查找新闻类型](http://i1.buimg.com/448b39caa5f32286.png)
从这里就可以看出新闻类型的值代表的意义了。

|字段名|猜想字段意思|字段示例|
|--|--|--|
|dmbh|代码编号|5370|
|dmmc|代码名称|personzw|
|dmms|代码描述|大赛导师|
|dmz|代码值|1040601|
|fw|范围 *(**不确定，好像代表部分代码值的开始几位，限制代码值**)*|10406|
|ylz|*(**不知道**)*|/commonRedirect/forward.redirect?page=/manager/zyfw/zyfwXxfwManage.jsp|
|px|*(**不知道**)* | 都是**0**|
|yxbz|*(**不知道**)* | 都是**1**|

#### grjl——个人简历
>*个人简历* 表保存了**个人简历**的信息。

|字段名|猜想字段意思|字段示例|
|--|--|--|
|jlbh|简历编号|1|
|grbh|个人编号|188|
|jlmc|简历名称*(**不确定**)*|null|
|qzbh|\*\*编号 *(**不确定**)*|12|
|zwjd|自我鉴定*(**不确定**)*|开朗阳光有责任心|
|kxsj|\*\*时间*(**不确定**)*|2|
|sxsj|实习时间？*(**不确定**)*|2016-04-13 18:21:58|

#### grll——个人浏览
>*个人浏览* 表保存了**个人浏览**的信息，主要是个人所浏览的**招聘会**和**招聘信息**的记录。

|字段名|猜想字段意思|字段示例|
|--|--|--|
|llbh|浏览编号|5|
|llr|浏览人*（正在浏览的人的编号）*|329|
|llrq|浏览日期|329|
|bh|编号*(与下一个字段—**类型**有关，类型为招聘会是代表招聘会编号，招聘信息时代表招聘信息编号)*|74|
|lx|类型*(代表这个个人浏览的类型，该值为`1`代表类型为**招聘信息**，`2`代表**招聘会**)*|1|
|llip|浏览时的ip|120.192.230.249|

#### grsc——个人收藏
>*个人收藏* 表保存了**个人收藏**的信息，与*个人收藏* 类似，主要是个人所收藏**招聘会**和**招聘信息**的记录。

|字段名|猜想字段意思|字段示例|
|--|--|--|
|scbh|收藏编号|4|
|scr|收藏人*（正在收藏的人的编号）*|11|
|scrq|收藏日期|329|
|bh|编号*(与下一个字段—**类型**有关，类型为**招聘会**时代表招聘会编号，为**职位**时代表招聘职位编号)*|14|
|lx|类型*(代表这个个人收藏的类型，该值为`1`代表类型为**招聘职位**，`2`代表**招聘会**，表中还有`3`这个值，目前**不知道代表什么**)*|2|
|sccs|收藏次数*(**表中数据都是null**)*|null|

#### grsqzwxx——个人申请职位信息
>*个人申请职位信息* 表保存了**个人申请职位的信息**。

|字段名|猜想字段意思|字段示例|
|--|--|--|
|sqbh|申请编号|4|
|zwxxbh|职位信息编号（关联[职位信息](#zwxx职位信息)表）|139|
|sqr|申请人id|12|
|sqrq|申请日期|2015-06-12 16:06:11.0|
|sqzt|申请状态(`0`代表失效，`1`代表生效)|1|

#### grsx——个人私信

#### grtszwxx——个人投诉职位信息

#### guga——广告

#### gzsj

#### imageyw
